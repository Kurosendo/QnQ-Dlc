<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <!-- Neurocalculator -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>Neurocalculator</defName>
    <label>neurocalculator</label>
    <labelNoun>a neurocalculator</labelNoun>
    <description>An installed neurocalculator.</description>
    <descriptionHyperlinks><ThingDef>Neurocalculator</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>Neurocalculator</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <ResearchSpeed>0.2</ResearchSpeed>
        </statOffsets>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <createHediff>BrainShock</createHediff>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>Neurocalculator</defName>
    <label>neurocalculator</label>
    <description>A non-intelligent microcomputer controlled by a visual/tactile neural interface. It assists with memory and calculation, like a calculator and notepad embedded in the brain.</description>
    <descriptionHyperlinks><RecipeDef>InstallNeurocalculator</RecipeDef></descriptionHyperlinks>
    <graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.80</drawSize>
      <color>(189,169,118)</color>
    </graphicData>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>NeuralComputation</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallNeurocalculator</defName>
    <label>install neurocalculator</label>
    <description>Install a neurocalculator.</description>
    <descriptionHyperlinks>
      <ThingDef>Neurocalculator</ThingDef>
      <HediffDef>Neurocalculator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing neurocalculator.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Neurocalculator</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Neurocalculator</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Neurocalculator</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveNeurocalculator</defName>
    <label>remove neurocalculator</label>
    <description>Remove neurocalculator.</description>
    <descriptionHyperlinks>
      <ThingDef>Neurocalculator</ThingDef>
      <HediffDef>Neurocalculator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing neurocalculator.</jobString>
    <removesHediff>Neurocalculator</removesHediff>
  </RecipeDef>

  <!-- Learning assistant -->
  
  <HediffDef ParentName="ImplantHediffBase">
    <defName>LearningAssistant</defName>
    <label>learning assistant</label>
    <labelNoun>a learning assistant</labelNoun>
    <description>An installed learning assistant.</description>
    <descriptionHyperlinks><ThingDef>LearningAssistant</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>LearningAssistant</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <GlobalLearningFactor>0.2</GlobalLearningFactor>
        </statOffsets>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <createHediff>BrainShock</createHediff>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>LearningAssistant</defName>
    <label>learning assistant</label>
    <description>A sensory recording system that replays important experiences during sleep, strengthening the formation of new memories.</description>
    <descriptionHyperlinks><RecipeDef>InstallLearningAssistant</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>NeuralComputation</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallLearningAssistant</defName>
    <label>install learning assistant</label>
    <description>Install a learning assistant.</description>
    <descriptionHyperlinks>
      <ThingDef>LearningAssistant</ThingDef>
      <HediffDef>LearningAssistant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing learning assistant.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>LearningAssistant</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>LearningAssistant</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>LearningAssistant</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveLearningAssistant</defName>
    <label>remove learning assistant</label>
    <description>Remove learning assistant.</description>
    <descriptionHyperlinks>
      <ThingDef>LearningAssistant</ThingDef>
      <HediffDef>LearningAssistant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing learning assistant.</jobString>
    <removesHediff>LearningAssistant</removesHediff>
  </RecipeDef>

  <!-- Gastro-analyzer -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>GastroAnalyzer</defName>
    <label>gastro-analyzer</label>
    <labelNoun>a gastro-analyzer</labelNoun>
    <description>An installed gastro-analyzer.</description>
    <descriptionHyperlinks><ThingDef>GastroAnalyzer</ThingDef></descriptionHyperlinks>
    <addedPartProps>
      <solid>true</solid>
    </addedPartProps>
    <stages>
      <li>
        <statOffsets>
          <CookSpeed>5</CookSpeed>
        </statOffsets>
      </li>
    </stages>
    <spawnThingOnRemoved>GastroAnalyzer</spawnThingOnRemoved>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>GastroAnalyzer</defName>
    <label>gastro-analyzer</label>
    <description>This bionic nose implant enhances the sense of smell, with a focus towards food-related smells. A multi-layered ultrafine absorption mesh detects compounds in the air. A microprocessor formats the readings into an olfactory nerve signal to send to the brain through a nerve-link interface. The result is that the user can smell foods with a depth, richness, and precision unknown among unenhanced humans, allowing them to cook more effectively. The whole unit is small enough to be installed in the nose without affecting the user's appearance.</description>
    <descriptionHyperlinks><RecipeDef>InstallGastroAnalyzer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>3</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>MolecularAnalysis</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallGastroAnalyzer</defName>
    <label>install gastro-analyzer</label>
    <description>Install a gastro-analyzer.</description>
    <descriptionHyperlinks>
      <ThingDef>GastroAnalyzer</ThingDef>
      <HediffDef>GastroAnalyzer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing gastro-analyzer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>GastroAnalyzer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>GastroAnalyzer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Nose</li>
    </appliedOnFixedBodyParts>
    <addsHediff>GastroAnalyzer</addsHediff>
  </RecipeDef>

  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveGastroAnalyzer</defName>
    <label>remove gastro-analyzer</label>
    <description>Remove gastro-analyzer.</description>
    <descriptionHyperlinks>
      <ThingDef>GastroAnalyzer</ThingDef>
      <HediffDef>GastroAnalyzer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing gastro-analyzer.</jobString>
    <removesHediff>GastroAnalyzer</removesHediff>
  </RecipeDef>

  <!-- Immunoenhancer -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>Immunoenhancer</defName>
    <label>immunoenhancer</label>
    <labelNoun>an immunoenhancer</labelNoun>
    <description>An installed immunoenhancer.</description>
    <descriptionHyperlinks><ThingDef>Immunoenhancer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>Immunoenhancer</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <ImmunityGainSpeed>0.08</ImmunityGainSpeed>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>Immunoenhancer</defName>
    <label>immunoenhancer</label>
    <description>An analysis computer inspects the bloodstream, classifies pathogens, and rapidly prompts the body's natural immune system to respond to them faster than it could alone. This speeds immunity gain significantly.</description>
    <descriptionHyperlinks><RecipeDef>InstallImmunoenhancer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>MolecularAnalysis</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallImmunoenhancer</defName>
    <label>install immunoenhancer</label>
    <description>Install an immunoenhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>Immunoenhancer</ThingDef>
      <HediffDef>Immunoenhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing immunoenhancer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Immunoenhancer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Immunoenhancer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Kidney</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Immunoenhancer</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveImmunoenhancer</defName>
    <label>remove immunoenhancer</label>
    <description>Remove immunoenhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>Immunoenhancer</ThingDef>
      <HediffDef>Immunoenhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing immunoenhancer.</jobString>
    <removesHediff>Immunoenhancer</removesHediff>
  </RecipeDef>

  <!-- Coagulator -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>Coagulator</defName>
    <label>coagulator</label>
    <labelNoun>a coagulator</labelNoun>
    <description>An installed coagulator implant.</description>
    <descriptionHyperlinks><ThingDef>Coagulator</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>Coagulator</spawnThingOnRemoved>
    <stages>
      <li>
        <totalBleedFactor>0.5</totalBleedFactor>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>Coagulator</defName>
    <label>coagulator</label>
    <description>Releases coagulating factors in response to blood loss, reducing bleeding rates significantly.</description>
    <descriptionHyperlinks><RecipeDef>InstallCoagulator</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>HealingFactors</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallCoagulator</defName>
    <label>install coagulator</label>
    <description>Install a coagulator.</description>
    <descriptionHyperlinks>
      <ThingDef>Coagulator</ThingDef>
      <HediffDef>Coagulator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing coagulator.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Coagulator</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Coagulator</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>Coagulator</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveCoagulator</defName>
    <label>remove coagulator</label>
    <description>Remove coagulator.</description>
    <descriptionHyperlinks>
      <ThingDef>Coagulator</ThingDef>
      <HediffDef>Coagulator</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing coagulator.</jobString>
    <removesHediff>Coagulator</removesHediff>
  </RecipeDef>

  <!-- Healing enhancer -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>HealingEnhancer</defName>
    <label>healing enhancer</label>
    <labelNoun>a healing enhancer</labelNoun>
    <description>An installed healing enhancer implant.</description>
    <descriptionHyperlinks><ThingDef>HealingEnhancer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>HealingEnhancer</spawnThingOnRemoved>
    <stages>
      <li>
        <naturalHealingFactor>1.5</naturalHealingFactor>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>HealingEnhancer</defName>
    <label>healing enhancer</label>
    <description>Releases nanomachines and healing factors that speed up wound healing. This implant only helps with physical wounds, and does nothing to combat disease or other health problems.</description>
    <descriptionHyperlinks><RecipeDef>InstallHealingEnhancer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>HealingFactors</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallHealingEnhancer</defName>
    <label>install healing enhancer</label>
    <description>Install a healing enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>HealingEnhancer</ThingDef>
      <HediffDef>HealingEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing healing enhancer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HealingEnhancer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HealingEnhancer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>HealingEnhancer</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveHealingEnhancer</defName>
    <label>remove healing enhancer</label>
    <description>Remove healing enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>HealingEnhancer</ThingDef>
      <HediffDef>HealingEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing healing enhancer.</jobString>
    <removesHediff>HealingEnhancer</removesHediff>
  </RecipeDef>

  <!-- Toughskin gland -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>ToughskinGland</defName>
    <label>toughskin gland</label>
    <labelNoun>a toughskin gland</labelNoun>
    <description>An installed toughskin gland.</description>
    <descriptionHyperlinks><ThingDef>ToughskinGland</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ToughskinGland</spawnThingOnRemoved>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <postFactor>0.95</postFactor>
          </li>
        </capMods>
        <statOffsets>
          <ArmorRating_Sharp>0.35</ArmorRating_Sharp>
          <ArmorRating_Blunt>0.1</ArmorRating_Blunt>
          <ArmorRating_Heat>0.3</ArmorRating_Heat>
        </statOffsets>
      </li>
    </stages>
    <tags><li>ArmorGland</li></tags>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>ToughskinGland</defName>
    <label>toughskin gland</label>
    <description>This bionic gland releases chemicals and nanomachines that toughen the skin, making it somewhat more resistant to damage. While it doesn't add as much protection as some other skin-hardening glands, the toughskin gland has the advantage of not noticeably altering the user's appearance.</description>
    <descriptionHyperlinks><RecipeDef>InstallToughskinGland</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardMidFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>SkinHardening</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallToughskinGland</defName>
    <label>install toughskin gland</label>
    <description>Install a toughskin gland.</description>
    <descriptionHyperlinks>
      <ThingDef>ToughskinGland</ThingDef>
      <HediffDef>ToughskinGland</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing toughskin gland.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ToughskinGland</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ToughskinGland</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>ToughskinGland</addsHediff>
    <incompatibleWithHediffTags>
      <li>ArmorGland</li>
    </incompatibleWithHediffTags>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveToughskinGland</defName>
    <label>remove toughskin gland</label>
    <description>Remove toughskin gland.</description>
    <descriptionHyperlinks>
      <ThingDef>ToughskinGland</ThingDef>
      <HediffDef>ToughskinGland</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing toughskin gland.</jobString>
    <removesHediff>ToughskinGland</removesHediff>
  </RecipeDef>

  <!-- Armorskin gland -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>ArmorskinGland</defName>
    <label>armorskin gland</label>
    <labelNoun>a armorskin gland</labelNoun>
    <description>An installed armorskin gland.</description>
    <descriptionHyperlinks><ThingDef>ArmorskinGland</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ArmorskinGland</spawnThingOnRemoved>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <postFactor>0.90</postFactor>
          </li>
        </capMods>
        <statOffsets>
          <ArmorRating_Sharp>0.52</ArmorRating_Sharp>
          <ArmorRating_Blunt>0.2</ArmorRating_Blunt>
          <ArmorRating_Heat>0.4</ArmorRating_Heat>
          <PawnBeauty>-1</PawnBeauty>
        </statOffsets>
      </li>
    </stages>
    <tags><li>ArmorGland</li></tags>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>ArmorskinGland</defName>
    <label>armorskin gland</label>
    <description>This bionic gland releases chemicals and nanomachines that toughen the skin and add flexible subdermal keratin plates at strategic points. This makes the user more resistant to damage across their whole body. Unfortunately, these changes make the skin appear leathery, with wrinkles across the whole body and face, which is generally considered ugly.</description>
    <descriptionHyperlinks><RecipeDef>InstallArmorskinGland</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardMidFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>20</Plasteel>
      <ComponentSpacer>6</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>SkinHardening</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallArmorskinGland</defName>
    <label>install armorskin gland</label>
    <description>Install an armorskin gland.</description>
    <descriptionHyperlinks>
      <ThingDef>ArmorskinGland</ThingDef>
      <HediffDef>ArmorskinGland</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing armorskin gland.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ArmorskinGland</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ArmorskinGland</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>ArmorskinGland</addsHediff>
    <incompatibleWithHediffTags>
      <li>ArmorGland</li>
    </incompatibleWithHediffTags>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveArmorskinGland</defName>
    <label>remove armorskin gland</label>
    <description>Remove armorskin gland.</description>
    <descriptionHyperlinks><ThingDef>ArmorskinGland</ThingDef></descriptionHyperlinks>
    <jobString>Removing armorskin gland.</jobString>
    <removesHediff>ArmorskinGland</removesHediff>
  </RecipeDef>

  <!-- Stoneskin gland -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>StoneskinGland</defName>
    <label>stoneskin gland</label>
    <labelNoun>a stoneskin gland</labelNoun>
    <description>An installed stoneskin gland.</description>
    <descriptionHyperlinks><ThingDef>StoneskinGland</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>StoneskinGland</spawnThingOnRemoved>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Moving</capacity>
            <postFactor>0.85</postFactor>
          </li>
        </capMods>
        <statOffsets>
          <ArmorRating_Sharp>0.70</ArmorRating_Sharp>
          <ArmorRating_Blunt>0.3</ArmorRating_Blunt>
          <ArmorRating_Heat>0.5</ArmorRating_Heat>
          <PawnBeauty>-2</PawnBeauty>
        </statOffsets>
      </li>
    </stages>
    <tags><li>ArmorGland</li></tags>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>StoneskinGland</defName>
    <label>stoneskin gland</label>
    <description>This bionic gland releases chemical and nanomachines that transform the user's skin into a built-in suit of armor. The whole epidermis thickens and hardens to resist burns, while jointed exterior keratin plates form everywhere they can - including the head and face. While it's very difficult to physically hurt someone using this implant, the plates and hard skin significantly reduces the user's physical attractiveness.</description>
    <descriptionHyperlinks><RecipeDef>InstallStoneskinGland</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardMidFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>25</Plasteel>
      <ComponentSpacer>8</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>SkinHardening</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallStoneskinGland</defName>
    <label>install stoneskin gland</label>
    <description>Install a stoneskin gland.</description>
    <descriptionHyperlinks>
      <ThingDef>StoneskinGland</ThingDef>
      <HediffDef>StoneskinGland</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing stoneskin gland.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>StoneskinGland</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>StoneskinGland</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>StoneskinGland</addsHediff>
    <incompatibleWithHediffTags>
      <li>ArmorGland</li>
    </incompatibleWithHediffTags>
  </RecipeDef>

  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveStoneskinGland</defName>
    <label>remove stoneskin gland</label>
    <description>Remove stoneskin gland.</description>
    <descriptionHyperlinks><ThingDef>StoneskinGland</ThingDef></descriptionHyperlinks>
    <jobString>Removing stoneskin gland.</jobString>
    <removesHediff>StoneskinGland</removesHediff>
  </RecipeDef>

  <!-- Aesthetic shaper -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>AestheticShaper</defName>
    <label>aesthetic shaper</label>
    <labelNoun>an aesthetic shaper</labelNoun>
    <description>An installed aesthetic shaper.</description>
    <descriptionHyperlinks><ThingDef>AestheticShaper</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>AestheticShaper</spawnThingOnRemoved>
    <stages>
      <li>
        <statOffsets>
          <PawnBeauty>1</PawnBeauty>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>AestheticShaper</defName>
    <label>aesthetic shaper</label>
    <description>A sophisticated package of hormonal and mechanite influences shapes the muscles and fat on the body, adding non-functional aesthetic tissue where needed to achieve a desired appearance. This implant can be configured to form various body shapes according to the user's taste - or that of their partner.</description>
    <descriptionHyperlinks><RecipeDef>InstallAestheticShaper</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>3</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>FleshShaping</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallAestheticShaper</defName>
    <label>install aesthetic shaper</label>
    <description>Install an aesthetic shaper.</description>
    <descriptionHyperlinks>
      <ThingDef>AestheticShaper</ThingDef>
      <HediffDef>AestheticShaper</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing aesthetic shaper.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>AestheticShaper</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>AestheticShaper</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>AestheticShaper</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveAestheticShaper</defName>
    <label>remove aesthetic shaper</label>
    <description>Remove aesthetic shaper.</description>
    <descriptionHyperlinks>
      <ThingDef>AestheticShaper</ThingDef>
      <HediffDef>AestheticShaper</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing aesthetic shaper.</jobString>
    <removesHediff>AestheticShaper</removesHediff>
  </RecipeDef>

  <!-- Aesthetic nose -->

  <HediffDef ParentName="AddedBodyPartBase">
    <defName>AestheticNose</defName>
    <label>aesthetic nose</label>
    <labelNoun>an aesthetic nose</labelNoun>
    <description>An installed aesthetic nose.</description>
    <descriptionHyperlinks><ThingDef>AestheticNose</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>AestheticNose</spawnThingOnRemoved>
    <addedPartProps>
      <partEfficiency>1</partEfficiency>
    </addedPartProps>
    <stages>
      <li>
        <statOffsets>
          <PawnBeauty>1</PawnBeauty>
        </statOffsets>
      </li>
    </stages>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>AestheticNose</defName>
    <label>aesthetic nose</label>
    <description>The nose is shaped to the user's desired form, matching prevalent beauty standards and enhancing physical impressions.</description>
    <descriptionHyperlinks><RecipeDef>InstallAestheticNose</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>10</Plasteel>
      <ComponentSpacer>2</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>FleshShaping</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>InstallAestheticNose</defName>
    <label>install aesthetic nose</label>
    <description>Install an aesthetic nose.</description>
    <descriptionHyperlinks>
      <ThingDef>AestheticNose</ThingDef>
      <HediffDef>AestheticNose</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing aesthetic nose.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>AestheticNose</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>AestheticNose</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Nose</li>
    </appliedOnFixedBodyParts>
    <addsHediff>AestheticNose</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveAestheticNose</defName>
    <label>remove aesthetic nose</label>
    <description>Remove aesthetic nose.</description>
    <descriptionHyperlinks>
      <ThingDef>AestheticNose</ThingDef>
      <HediffDef>AestheticNose</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing aesthetic nose.</jobString>
    <removesHediff>AestheticNose</removesHediff>
  </RecipeDef>
 
  <!-- Love enhancer -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>LoveEnhancer</defName>
    <label>love enhancer</label>
    <labelNoun>a love enhancer</labelNoun>
    <description>An installed love enhancer.</description>
    <descriptionHyperlinks><ThingDef>LoveEnhancer</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>LoveEnhancer</spawnThingOnRemoved>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>LoveEnhancer</defName>
    <label>love enhancer</label>
    <description>Humans have always tried to use every new technology to enhance sexual satisfaction. Bionics were no exception. This implant makes physical and chemical changes to the body which enhance the experience of lovin' for both partners - both physically and psychologically. The implant unit can adapt to enhance both men and women upon being implanted.</description>
    <descriptionHyperlinks><RecipeDef>InstallLoveEnhancer</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>FleshShaping</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallLoveEnhancer</defName>
    <label>install love enhancer</label>
    <description>Install a love enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>LoveEnhancer</ThingDef>
      <HediffDef>LoveEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing love enhancer.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>LoveEnhancer</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>LoveEnhancer</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <addsHediff>LoveEnhancer</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveLoveEnhancer</defName>
    <label>remove love enhancer</label>
    <description>Remove love enhancer.</description>
    <descriptionHyperlinks>
      <ThingDef>LoveEnhancer</ThingDef>
      <HediffDef>LoveEnhancer</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing love enhancer.</jobString>
    <removesHediff>LoveEnhancer</removesHediff>
  </RecipeDef>

  <!-- Sterilizing stomach -->

  <HediffDef ParentName="AddedBodyPartBase">
    <defName>DetoxifierStomach</defName>
    <label>sterilizing stomach</label>
    <labelNoun>a sterilizing stomach</labelNoun>
    <description>An installed sterilizing stomach.</description>
    <descriptionHyperlinks><ThingDef>DetoxifierStomach</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>DetoxifierStomach</spawnThingOnRemoved>
    <addedPartProps>
      <solid>true</solid>
      <partEfficiency>1.25</partEfficiency>
      <betterThanNatural>true</betterThanNatural>
    </addedPartProps>
    <stages>
      <li>
        <foodPoisoningChanceFactor>0</foodPoisoningChanceFactor>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <vomit>true</vomit>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>DetoxifierStomach</defName>
    <label>sterilizing stomach</label>
    <description>An artificial stomach replacement with a broad-spectrum filtration and sterilization system. It allows the user to eat almost anything without ever worrying about food poisoning.</description>
    <descriptionHyperlinks><RecipeDef>InstallDetoxifierStomach</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>ArtificialMetabolism</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>InstallDetoxifierStomach</defName>
    <label>install sterilizing stomach</label>
    <description>Install a sterilizing stomach.</description>
    <descriptionHyperlinks>
      <ThingDef>DetoxifierStomach</ThingDef>
      <HediffDef>DetoxifierStomach</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing sterilizing stomach.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>DetoxifierStomach</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>DetoxifierStomach</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Stomach</li>
    </appliedOnFixedBodyParts>
    <addsHediff>DetoxifierStomach</addsHediff>
  </RecipeDef>
  
  <!-- Reprocessor stomach -->

  <HediffDef ParentName="AddedBodyPartBase">
    <defName>ReprocessorStomach</defName>
    <label>reprocessor stomach</label>
    <labelNoun>a reprocessor stomach</labelNoun>
    <description>An installed reprocessor stomach.</description>
    <descriptionHyperlinks><ThingDef>ReprocessorStomach</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>ReprocessorStomach</spawnThingOnRemoved>
    <addedPartProps>
      <solid>true</solid>
      <partEfficiency>1.25</partEfficiency>
      <betterThanNatural>true</betterThanNatural>
    </addedPartProps>
    <stages>
      <li>
        <hungerRateFactor>0.75</hungerRateFactor>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <vomit>true</vomit>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>ReprocessorStomach</defName>
    <label>reprocessor stomach</label>
    <description>An advanced chemical processing system breaks down nutrients the body could normally never use, leading to increased efficiency.</description>
    <descriptionHyperlinks><RecipeDef>InstallReprocessorStomach</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>ArtificialMetabolism</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>InstallReprocessorStomach</defName>
    <label>install reprocessor stomach</label>
    <description>Install a reprocessor stomach.</description>
    <descriptionHyperlinks>
      <ThingDef>ReprocessorStomach</ThingDef>
      <HediffDef>ReprocessorStomach</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing reprocessor stomach.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ReprocessorStomach</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ReprocessorStomach</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Stomach</li>
    </appliedOnFixedBodyParts>
    <addsHediff>ReprocessorStomach</addsHediff>
  </RecipeDef>

  <!-- Nuclear stomach -->

  <HediffDef ParentName="AddedBodyPartBase">
    <defName>NuclearStomach</defName>
    <label>nuclear stomach</label>
    <labelNoun>a nuclear stomach</labelNoun>
    <description>An installed nuclear stomach.</description>
    <descriptionHyperlinks><ThingDef>NuclearStomach</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>NuclearStomach</spawnThingOnRemoved>
    <addedPartProps>
      <solid>true</solid>
      <partEfficiency>1.25</partEfficiency>
      <betterThanNatural>true</betterThanNatural>
    </addedPartProps>
    <hediffGivers>
      <li Class="HediffGiver_Random">
        <mtbDays>120</mtbDays>
        <hediff>Carcinoma</hediff>
        <partsToAffect>
          <li>Torso</li>
        </partsToAffect>
      </li>
    </hediffGivers>
    <stages>
      <li>
        <hungerRateFactor>0.25</hungerRateFactor>
        <foodPoisoningChanceFactor>0</foodPoisoningChanceFactor>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <vomit>true</vomit>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>NuclearStomach</defName>
    <label>nuclear stomach</label>
    <description>A micro-nuclear reactor combined with complex chemical synthesis replaces the body's need for food energy. Food is required only to replace matter lost from the body, reducing the user's intake needs significantly. This artificial stomach cannot get food poisoning. However, there is little room to shield the reactor, so the radiation increases the risk of cancer.</description>
    <descriptionHyperlinks><RecipeDef>InstallNuclearStomach</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>ArtificialMetabolism</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>InstallNuclearStomach</defName>
    <label>install nuclear stomach</label>
    <description>Install a nuclear stomach.</description>
    <descriptionHyperlinks>
      <ThingDef>NuclearStomach</ThingDef>
      <HediffDef>NuclearStomach</HediffDef>
    </descriptionHyperlinks>
    <workerClass>Recipe_InstallArtificialBodyPart</workerClass>
    <jobString>Installing nuclear stomach.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>NuclearStomach</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>NuclearStomach</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Stomach</li>
    </appliedOnFixedBodyParts>
    <addsHediff>NuclearStomach</addsHediff>
  </RecipeDef>


  <!-- Circadian assistant -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>CircadianAssistant</defName>
    <label>circadian assistant</label>
    <labelNoun>a circadian assistant</labelNoun>
    <description>An installed circadian assistant.</description>
    <descriptionHyperlinks><ThingDef>CircadianAssistant</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>CircadianAssistant</spawnThingOnRemoved>
    <stages>
      <li>
        <restFallFactorOffset>-0.2</restFallFactorOffset>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <createHediff>BrainShock</createHediff>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>CircadianAssistant</defName>
    <label>circadian assistant</label>
    <description>An artificial gland. Produces chemicals and nanomachines that clear toxin buildup from the brain.</description>
    <descriptionHyperlinks><RecipeDef>InstallCircadianAssistant</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>CircadianInfluence</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallCircadianAssistant</defName>
    <label>install circadian assistant</label>
    <description>Install a circadian assistant.</description>
    <descriptionHyperlinks>
      <ThingDef>CircadianAssistant</ThingDef>
      <HediffDef>CircadianAssistant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing circadian assistant.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>CircadianAssistant</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>CircadianAssistant</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>CircadianAssistant</addsHediff>
  </RecipeDef>
  
  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveCircadianAssistant</defName>
    <label>remove circadian assistant</label>
    <description>Remove circadian assistant.</description>
    <descriptionHyperlinks>
      <ThingDef>CircadianAssistant</ThingDef>
      <HediffDef>CircadianAssistant</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing circadian assistant.</jobString>
    <removesHediff>CircadianAssistant</removesHediff>
  </RecipeDef>

  <!-- Circadian half-cycler -->

  <HediffDef ParentName="ImplantHediffBase">
    <defName>CircadianHalfCycler</defName>
    <label>circadian half-cycler</label>
    <labelNoun>a circadian half-cycler</labelNoun>
    <description>An installed circadian half-cycler.</description>
    <descriptionHyperlinks><ThingDef>CircadianHalfCycler</ThingDef></descriptionHyperlinks>
    <spawnThingOnRemoved>CircadianHalfCycler</spawnThingOnRemoved>
    <disablesNeeds>
      <li>Rest</li>
    </disablesNeeds>
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.15</offset>
          </li>
        </capMods>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_ReactOnDamage">
        <damageDefIncoming>EMP</damageDefIncoming>
        <createHediff>BrainShock</createHediff>
      </li>
    </comps>
  </HediffDef>

  <ThingDef ParentName="BodyPartBionicImperialBase">
    <defName>CircadianHalfCycler</defName>
    <label>circadian half-cycler</label>
    <description>A signal redirector which isolates half of the brain, allowing the other half to sleep while the user remains outwardly awake. By alternating brain halves, the user never needs to sleep. Unfortunately, two hemispheres are better than one - working with half a brain causes a reduction in consciousness.</description>
    <descriptionHyperlinks><RecipeDef>InstallCircadianHalfCycler</RecipeDef></descriptionHyperlinks>
    <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags>
    <costList>
      <Plasteel>15</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <recipeMaker>
      <researchPrerequisite>CircadianInfluence</researchPrerequisite>
    </recipeMaker>
  </ThingDef>

  <RecipeDef ParentName="SurgeryInstallImplantBase">
    <defName>InstallCircadianHalfCycler</defName>
    <label>install circadian half-cycler</label>
    <description>Install a circadian half-cycler.</description>
    <descriptionHyperlinks>
      <ThingDef>CircadianHalfCycler</ThingDef>
      <HediffDef>CircadianHalfCycler</HediffDef>
    </descriptionHyperlinks>
    <jobString>Installing circadian half-cycler.</jobString>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>CircadianHalfCycler</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>CircadianHalfCycler</li>
      </thingDefs>
    </fixedIngredientFilter>
    <appliedOnFixedBodyParts>
      <li>Brain</li>
    </appliedOnFixedBodyParts>
    <addsHediff>CircadianHalfCycler</addsHediff>
  </RecipeDef>

  <RecipeDef ParentName="SurgeryRemoveImplantBase">
    <defName>RemoveCircadianHalfCycler</defName>
    <label>remove circadian half-cycler</label>
    <description>Remove circadian half-cycler.</description>
    <descriptionHyperlinks>
      <ThingDef>CircadianHalfCycler</ThingDef>
      <HediffDef>CircadianHalfCycler</HediffDef>
    </descriptionHyperlinks>
    <jobString>Removing circadian half-cycler.</jobString>
    <removesHediff>CircadianHalfCycler</removesHediff>
  </RecipeDef>

</Defs>